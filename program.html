<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ontdek de complete line-up van Vedettweekend 2025 - een weekend vol muziek, feest en entertainment!">
    <meta name="color-scheme" content="light only">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="icon" type="image/x-icon" href="./img/faviconvedett.ico">
    <link rel="canonical" href="https://www.vedettweekend.be/line-up" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TCSXPDTW');</script>
    <!-- End Google Tag Manager -->

    <title>Line-Up | Vedettweekend 2025</title>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TCSXPDTW"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-branding">
                <a href="./index.html">
                    <img class="nav-logo" src="./img/vedett25.webp">
                </a>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="./index.html" class="nav-link">HOME</a>
                </li>
                <li class="nav-item">
                    <a href="./tickets.html" class="nav-link">TICKETS</a>
                </li>
                <li class="nav-item active">
                    <a href="./program.html" class="nav-link">LINE-UP</a>
                </li>
                <li class="nav-item">
                    <a href="./practical.html" class="nav-link">INFO</a>
                </li>
            </ul>
            <div class="hamburger" id="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="lineup-main">
        <!-- Hero Section -->
        <section class="lineup-hero">
            <div class="lineup-hero-content">
                <h1 class="lineup-title" id="heroTitle">VEDETTWEEKEND 2025</h1>
                <h2 class="lineup-subtitle" id="heroSubtitle">COMPLETE LINE-UP</h2>
                <p class="lineup-description" id="heroDescription">Ontdek wat je kunt verwachten tijdens dit epische weekend vol muziek en entertainment!</p>
            </div>
        </section>

        <!-- Timeline Section -->
        <section class="timeline-section">
            <div class="timeline-container">
                <!-- Friday -->
                <div class="day-section">
                    <div class="day-header">
                        <h3 class="day-title" id="fridayTitle">VRIJDAG 24 OKTOBER</h3>
                        <div class="day-line"></div>
                    </div>
                    
                    <div class="timeline" id="fridayTimeline">
                        <!-- Timeline items will be generated by JavaScript from Netlify CMS data -->
                    </div>
                </div>

                <!-- Saturday -->
                <div class="day-section">
                    <div class="day-header">
                        <h3 class="day-title" id="saturdayTitle">ZATERDAG 25 OKTOBER</h3>
                        <div class="day-line"></div>
                    </div>
                    
                    <div class="timeline" id="saturdayTimeline">
                        <!-- Timeline items will be generated by JavaScript from Netlify CMS data -->
                    </div>
                </div>
            </div>
        </section>


    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>VOLG ONS OP</h4>
                <div class="social-links">
                    <a href="https://www.facebook.com/vedettweekend" class="social-link">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="https://www.instagram.com/vedettweekend/" class="social-link">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/@vedettweekend" class="social-link">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://linktr.ee/vedettweekend" class="social-link">
                        <i class="fas fa-link"></i>
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h4>MEER INFORMATIE</h4>
                <a href="https://vedettweekend.be">Over Vedettweekend</a>
            </div>

            <div class="footer-section">
                <h4>TICKETS KOPEN</h4>
                <a href="https://vedettweekend.eventsquare.store/nl/iuyug9ujkxeq/dqyto5nq8d2y">Koop hier je tickets</a>
            </div>

            <div class="footer-section">
                <h4>CONTACT</h4>
                <p>Scouts De Vlasbloem</p>
                <p>Maatschappelijke zetel:</p>
                <p>Paddegatstraat 53a</p>
                <p>1880 Nieuwenrode- BelgiÃ«</p>
                <p>0697.774.844</p>
                <p>info@vedettweekend.be</p>
            </div>
        </div>

        <div class="footer-sponsors">
            <div class="sponsor-logos">
                <!-- Footer sponsors will be loaded dynamically from CMS -->
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Vedettweekend. All rights reserved. - Website made by Tom Lievens</p>
        </div>
    </footer>



    <!-- Line-up Data for Strapi CMS -->
    <script>
        // This data will be replaced by Strapi CMS when the page loads
        // The CMS will populate window.lineupCMS with data from Strapi API
        window.lineup = {
            friday: {
                title: "VRIJDAG 25 OKTOBER",
                events: [
                    {
                        time: "20:00 - 21:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "21:00 - 22:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "22:00 - 23:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "23:00 - 00:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "00:00 - 01:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "01:00 - 02:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "02:00 - 03:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    }
                ]
            },
            saturday: {
                title: "ZATERDAG 26 OKTOBER",
                events: [
                    {
                        time: "17:30 - 21:00",
                        artist: "Pastafestijn",
                        image: "./img/Pasta.jpeg",
                        description: "Geniet van heerlijke pasta voordat de feestavond begint! Een gezellige avond met authentieke Italiaanse gerechten en een warme sfeer.",
                        url: "https://www.facebook.com/vedettweekend",
                        isSpecial: true
                    },
                    {
                        time: "21:00 - 21:30",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "21:30 - 23:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "23:00 - 00:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "00:00 - 01:30",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "01:30 - 02:30",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    },
                    {
                        time: "02:30 - 04:00",
                        artist: "TBA",
                        image: "./img/tba.webp",
                        description: "Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates",
                        url: "https://www.facebook.com/vedettweekend"
                    }
                ]
            }
        };
    </script>

    <!-- Netlify Identity Widget -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    
    <!-- Main JavaScript -->
    <script src="script-new.js"></script>
    
    <!-- Logo Loading from CMS -->
    <script>
        // Load Logo from CMS
        fetch('content/home/logo.md')
            .then(response => response.text())
            .then(text => {
                // Parse frontmatter to get logo path
                const logoMatch = text.match(/logo_image:\s*"?([^"\n]+)"?/);
                
                if (logoMatch && logoMatch[1]) {
                    // Update all nav logos on the page
                    const navLogos = document.querySelectorAll('.nav-logo');
                    
                    navLogos.forEach(logo => {
                        logo.src = logoMatch[1];
                    });
                } else {
                    // Fallback to default logo if CMS fails
                    const navLogos = document.querySelectorAll('.nav-logo');
                    
                    navLogos.forEach(logo => {
                        logo.src = './img/vedett25.webp';
                    });
                }
            })
            .catch(error => {
                // Fallback to default logo if fetch fails
                const navLogos = document.querySelectorAll('.nav-logo');
                
                logo.src = './img/vedett25.webp';
            });
    </script>
    
    <!-- Line-up Content Loading from CMS -->
    <script>
        // Load Hero Section from CMS
        fetch('content/lineup/hero-section.md')
            .then(response => response.text())
            .then(text => {
                // Parse frontmatter to get hero content
                const titleMatch = text.match(/hero_title:\s*"?([^"\n]+)"?/);
                const subtitleMatch = text.match(/hero_subtitle:\s*"?([^"\n]+)"?/);
                const descriptionMatch = text.match(/hero_description:\s*"?([^"\n]+)"?/);
                
                // Update hero title
                if (titleMatch && titleMatch[1]) {
                    const heroTitle = document.getElementById('heroTitle');
                    if (heroTitle) heroTitle.textContent = titleMatch[1];
                }
                
                // Update hero subtitle
                if (subtitleMatch && subtitleMatch[1]) {
                    const heroSubtitle = document.getElementById('heroSubtitle');
                    if (heroSubtitle) heroSubtitle.textContent = subtitleMatch[1];
                }
                
                // Update hero description
                if (descriptionMatch && descriptionMatch[1]) {
                    const heroDescription = document.getElementById('heroDescription');
                    if (heroDescription) heroDescription.textContent = descriptionMatch[1];
                }
            })
            .catch(error => {
                console.log('Using fallback hero section content');
            });
        
        // Load Friday Timeline from CMS
        fetch('content/lineup/friday-timeline.md')
            .then(response => response.text())
            .then(text => {
                console.log('ð Friday timeline CMS response:', text);
                
                // Parse frontmatter to get Friday timeline data
                const dayTitleMatch = text.match(/day_title:\s*"?([^"\n]+)"?/);
                
                // Update Friday day title
                if (dayTitleMatch && dayTitleMatch[1]) {
                    const fridayTitle = document.getElementById('fridayTitle');
                    if (fridayTitle) fridayTitle.textContent = dayTitleMatch[1];
                }
                
                // Parse timeline items using a more robust approach
                const items = parseTimelineItems(text);
                console.log('ð Parsed Friday items:', items);
                
                        // Display Friday timeline items
        console.log('ð¯ About to display Friday timeline items:', items);
        displayTimelineItems('fridayTimeline', items);
            })
            .catch(error => {
                console.log('â Error loading Friday timeline:', error);
            });
        
        // Load Saturday Timeline from CMS
        fetch('content/lineup/saturday-timeline.md')
            .then(response => response.text())
            .then(text => {
                console.log('ð Saturday timeline CMS response:', text);
                
                // Parse frontmatter to get Saturday timeline data
                const dayTitleMatch = text.match(/day_title:\s*"?([^"\n]+)"?/);
                
                // Update Saturday day title
                if (dayTitleMatch && dayTitleMatch[1]) {
                    const saturdayTitle = document.getElementById('saturdayTitle');
                    if (saturdayTitle) saturdayTitle.textContent = dayTitleMatch[1];
                }
                
                // Parse timeline items using a more robust approach
                const items = parseTimelineItems(text);
                console.log('ð Parsed Saturday items:', items);
                
                        // Display Saturday timeline items
        console.log('ð¯ About to display Saturday timeline items:', items);
        displayTimelineItems('saturdayTimeline', items);
            })
            .catch(error => {
                console.log('â Error loading Saturday timeline:', error);
            });
        
        // Robust function to parse timeline items from CMS markdown
        function parseTimelineItems(text) {
            const items = [];
            
            // Find the timeline_items section
            const timelineMatch = text.match(/timeline_items:\s*\n([\s\S]*?)(?=\n---|\n\w|$)/);
            
            if (timelineMatch) {
                const timelineSection = timelineMatch[1];
                console.log('ð Timeline section found:', timelineSection);
                
                // Find all timeline items by looking for the dash pattern
                console.log('ð Looking for timeline items in:', timelineSection);
                
                // Use a more comprehensive regex to find all items, including the first one
                const itemMatches = timelineSection.matchAll(/(?:^|\n)\s*-\s*time:\s*"?([^"\n]+)"?/g);
                console.log('ð Found matches:', Array.from(itemMatches));
                
                // Reset the iterator since we used it above
                const itemMatches2 = timelineSection.matchAll(/(?:^|\n)\s*-\s*time:\s*"?([^"\n]+)"?/g);
                
                for (const match of itemMatches2) {
                    const timeValue = match[1];
                    const startIndex = match.index;
                    
                    console.log(`ð Processing match:`, match);
                    console.log(`ð Time value:`, timeValue);
                    console.log(`ð Start index:`, startIndex);
                    
                    // Find the end of this item (next dash or end of section)
                    const nextDash = timelineSection.indexOf('\n  - time:', startIndex + 1);
                    const nextActiveDash = timelineSection.indexOf('\n  - active:', startIndex + 1);
                    
                    // Find the earliest next item boundary
                    let endIndex = timelineSection.length;
                    if (nextDash > -1) endIndex = Math.min(endIndex, nextDash);
                    if (nextActiveDash > -1) endIndex = Math.min(endIndex, nextActiveDash);
                    
                    console.log(`ð Next dash at:`, nextDash);
                    console.log(`ð Next active dash at:`, nextActiveDash);
                    console.log(`ð End index:`, endIndex);
                    
                    // Extract the full item block
                    const itemBlock = timelineSection.substring(startIndex, endIndex);
                    
                    console.log(`ð Parsing item block:`, itemBlock);
                    
                    // Extract each field using regex - handle any order of fields
                    const imageMatch = itemBlock.match(/image:\s*"?([^"\n]+)"?/);
                    const titleMatch = itemBlock.match(/title:\s*"?([^"\n]+)"?/);
                    const subtextMatch = itemBlock.match(/subtext:\s*"?([^"\n]+)"?/);
                    const urlMatch = itemBlock.match(/url:\s*"?([^"\n]+)"?/);
                    const activeMatch = itemBlock.match(/active:\s*(true|false)/);
                    
                    console.log(`ð Image match:`, imageMatch);
                    console.log(`ð Title match:`, titleMatch);
                    console.log(`ð Subtext match:`, subtextMatch);
                    console.log(`ð URL match:`, urlMatch);
                    console.log(`ð Active match:`, activeMatch);
                    
                    // Check if item is active and has required fields
                    if (activeMatch && activeMatch[1] === 'true' && timeValue) {
                        // Clean up the time field - remove any extra whitespace or quotes
                        let cleanTime = timeValue.trim();
                        
                        // Remove quotes if they exist
                        if (cleanTime.startsWith('"') && cleanTime.endsWith('"')) {
                            cleanTime = cleanTime.slice(1, -1);
                        }
                        
                        // Remove any leading/trailing whitespace
                        cleanTime = cleanTime.trim();
                        
                        const item = {
                            time: cleanTime,
                            image: imageMatch ? imageMatch[1].trim() : './img/tba.webp',
                            title: titleMatch ? titleMatch[1].trim() : 'TBA',
                            subtext: subtextMatch ? subtextMatch[1].trim() : 'Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates',
                            url: urlMatch ? urlMatch[1].trim() : 'https://www.facebook.com/vedettweekend'
                        };
                        
                        items.push(item);
                        console.log(`â Added item:`, item);
                    } else {
                        if (!activeMatch) {
                            console.log(`â Skipped item - missing active field`);
                        } else if (activeMatch[1] !== 'true') {
                            console.log(`â Skipped item - not active (active: ${activeMatch[1]})`);
                        } else if (!timeValue) {
                            console.log(`â Skipped item - missing time value`);
                        } else {
                            console.log(`â Skipped item - unknown reason`);
                        }
                    }
                }
                
                // Now also find and process items that start with - active: (like your 'test' item)
                const activeFirstMatches = timelineSection.matchAll(/(?:^|\n)\s*-\s*active:\s*(true|false)/g);
                console.log('ð Found active-first matches:', Array.from(activeFirstMatches));
                
                // Reset the iterator
                const activeFirstMatches2 = timelineSection.matchAll(/(?:^|\n)\s*-\s*active:\s*(true|false)/g);
                
                for (const match of activeFirstMatches2) {
                    const activeValue = match[1];
                    const startIndex = match.index;
                    
                    console.log(`ð Processing active-first match:`, match);
                    console.log(`ð Active value:`, activeValue);
                    console.log(`ð Start index:`, startIndex);
                    
                    // Find the end of this item (next dash or end of section)
                    const nextDash = timelineSection.indexOf('\n  - time:', startIndex + 1);
                    const nextActiveDash = timelineSection.indexOf('\n  - active:', startIndex + 1);
                    
                    // Find the earliest next item boundary
                    let endIndex = timelineSection.length;
                    if (nextDash > -1) endIndex = Math.min(endIndex, nextDash);
                    if (nextActiveDash > -1) endIndex = Math.min(endIndex, nextActiveDash);
                    
                    console.log(`ð Next dash at:`, nextDash);
                    console.log(`ð Next active dash at:`, nextActiveDash);
                    console.log(`ð End index:`, endIndex);
                    
                    // Extract the full item block
                    const itemBlock = timelineSection.substring(startIndex, endIndex);
                    
                    console.log(`ð Parsing active-first item block:`, itemBlock);
                    
                    // Extract each field using regex - handle any order of fields
                    const timeMatch = itemBlock.match(/time:\s*"?([^"\n]+)"?/);
                    const imageMatch = itemBlock.match(/image:\s*"?([^"\n]+)"?/);
                    const titleMatch = itemBlock.match(/title:\s*"?([^"\n]+)"?/);
                    const subtextMatch = itemBlock.match(/subtext:\s*"?([^"\n]+)"?/);
                    const urlMatch = itemBlock.match(/url:\s*"?([^"\n]+)"?/);
                    
                    console.log(`ð Time match:`, timeMatch);
                    console.log(`ð Image match:`, imageMatch);
                    console.log(`ð Title match:`, titleMatch);
                    console.log(`ð Subtext match:`, subtextMatch);
                    console.log(`ð URL match:`, urlMatch);
                    
                    // Check if item is active and has required fields
                    if (activeValue === 'true' && timeMatch && timeMatch[1]) {
                        // Clean up the time field - remove any extra whitespace or quotes
                        let cleanTime = timeMatch[1].trim();
                        
                        // Remove quotes if they exist
                        if (cleanTime.startsWith('"') && cleanTime.endsWith('"')) {
                            cleanTime = cleanTime.slice(1, -1);
                        }
                        
                        // Remove any leading/trailing whitespace
                        cleanTime = cleanTime.trim();
                        
                        const item = {
                            time: cleanTime,
                            image: imageMatch ? imageMatch[1].trim() : './img/tba.webp',
                            title: titleMatch ? titleMatch[1].trim() : 'TBA',
                            subtext: subtextMatch ? subtextMatch[1].trim() : 'Deze artiest zal binnenkort aangekondigd worden, hou onze socials in het oog voor alle updates',
                            url: urlMatch ? urlMatch[1].trim() : 'https://www.facebook.com/vedettweekend'
                        };
                        
                        items.push(item);
                        console.log(`â Added active-first item:`, item);
                    } else {
                        if (activeValue !== 'true') {
                            console.log(`â Skipped active-first item - not active (active: ${activeValue})`);
                        } else if (!timeMatch) {
                            console.log(`â Skipped active-first item - missing time field`);
                        } else {
                            console.log(`â Skipped active-first item - unknown reason`);
                        }
                    }
                }
            }
            
            console.log(`ð Final items array:`, items);
            return items;
        }
        
        // Function to display timeline items
        function displayTimelineItems(containerId, items) {
            try {
                console.log(`ð¨ Displaying ${items.length} items for container:`, containerId);
                console.log(`ð¨ Items to display:`, items);
                
                const container = document.getElementById(containerId);
                if (!container) {
                    console.log(`â Container not found:`, containerId);
                    return;
                }
                
                console.log(`ð¨ Container found:`, container);
                console.log(`ð¨ Container before clearing:`, container.innerHTML);
                container.innerHTML = '';
                console.log(`ð¨ Container after clearing:`, container.innerHTML);
                
                items.forEach((item, index) => {
                    console.log(`ð¨ Creating item ${index}:`, item);
                    
                    const timelineItem = `
                        <div class="timeline-item">
                            <div class="timeline-time">${item.time}</div>
                            <a href="${item.url}" target="_blank" rel="noopener noreferrer" class="timeline-content">
                                <div class="timeline-card">
                                    <div class="timeline-card-image">
                                        <img src="${item.image}" alt="${item.title}" class="timeline-image">
                                    </div>
                                    <div class="timeline-card-info">
                                        <h4 class="timeline-artist">${item.title}</h4>
                                        <p class="timeline-dj-description">${item.subtext}</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    `;
                    
                    container.innerHTML += timelineItem;
                    console.log(`â Added item ${index} to DOM`);
                });
                
                console.log(`ð¨ Final container HTML:`, container.innerHTML);
            } catch (error) {
                console.error(`ð¥ Error in displayTimelineItems:`, error);
            }
        }
    </script>
    

</body>
</html>
