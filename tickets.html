<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tickets | Vedettweekend</title>
    <meta name="description" content="Koop nu je tickets voor Vedettweekend 2025 op vrijdag 25 en zaterdag 26 oktober!">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Lottie Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/style.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/vedettfavicon.png">
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TCSXPDTW');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TCSXPDTW"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Header Component -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-branding">
                <a href="./">
                    <img class="nav-logo" src="./img/vedett25.webp">
                </a>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        <span class="nav-content">HOME</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a href="tickets.html" class="nav-link">
                        <span class="nav-content">TICKETS</span>
                    </a>
                </li>
                                <li class="nav-item">
                    <a href="./program.html" class="nav-link">
                        <span class="nav-content">LINE-UP</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="./practical.html" class="nav-link">
                        <span class="nav-content">INFO</span>
                    </a>
                </li>
            </ul>
            <button class="hamburger" id="hamburger" aria-label="Toggle navigation menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="tickets-main">
        <!-- Hero Section -->
        <section class="info-hero">
            <div class="info-hero-content">
                <h1 class="info-title">VEDETTWEEKEND 2025</h1>
                <h2 class="info-subtitle">KOOP JE TICKETS</h2>
                <p class="info-description">Beveilig je plekje voor het weekend van je leven!</p>
            </div>
        </section>

        <!-- Ticket Shop Section -->
        <div class="ticketshop">
            <div class="ticketshop-container">
                <div id="esq-store">
                    <!-- Loading animation -->
                    <div id="lottie-container" class="lottie-spinner"></div>
                </div>
            </div>
        </div>

        <hr class="full-width-line">
    </main>

    <!-- Footer Component -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4 class="footer-title">VOLG ONS OP</h4>
                <div class="social-links">
                    <a href="https://www.facebook.com/vedettweekend" class="social-link" aria-label="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.instagram.com/vedettweekend/" class="social-link" aria-label="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/@vedettweekend" class="social-link" aria-label="TikTok">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://linktr.ee/vedettweekend" class="social-link" aria-label="Linktree">
                        <i class="fas fa-link"></i>
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h4 class="footer-title">MEER INFORMATIE</h4>
                <a href="https://vedettweekend.be" class="footer-link">Over Vedettweekend</a>
            </div>

            <div class="footer-section">
                <h4 class="footer-title">TICKETS KOPEN</h4>
                <a href="https://vedettweekend.eventsquare.store/nl/iuyug9ujkxeq/dqyto5nq8d2y" class="footer-link">Koop hier je tickets</a>
            </div>

            <div class="footer-section">
                <h4 class="footer-title">CONTACT</h4>
                <address class="contact-info">
                    Scouts De Vlasbloem<br>
                    Maatschappelijke zetel:<br>
                    Paddegatstraat 53a<br>
                    1880 Nieuwenrode- BelgiÃ«<br>
                    <a href="tel:+320697774844">0697.774.844</a><br>
                    <a href="mailto:info@vedettweekend.be">info@vedettweekend.be</a>
                </address>
            </div>
        </div>

        <div class="footer-sponsors">
            <div class="sponsor-logos" id="footerSponsors">
                <!-- Footer sponsor logos will be populated by JavaScript -->
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Vedettweekend. All rights reserved. - Website made by Tom Lievens</p>
        </div>
    </footer>

    <!-- Netlify CMS -->


    

    
    <!-- Ticketshop URL Loading from CMS -->
    <script>
        // Load Ticketshop URL from CMS

        
        fetch('content/tickets/ticketshop.md')
            .then(response => response.text())
            .then(text => {
                // Split the content into frontmatter and body
                const parts = text.split('---');
                
                if (parts.length >= 2) {
                    const frontmatter = parts[1].trim();
                    
                    try {
                        // Parse YAML frontmatter into JavaScript object
                        const data = jsyaml.load(frontmatter);
                        
                        // Update ticketshop iframe URL
                        if (data.ticketshop_url) {
                            // Initialize window.ticketshop if it doesn't exist
                            if (!window.ticketshop) {
                                window.ticketshop = {};
                            }
                            
                            window.ticketshop.iframeLink = data.ticketshop_url;
                        }
                        
                    } catch (yamlError) {
                        console.error('Error parsing YAML:', yamlError);
                    }
                }
            })
            .catch(error => {
                console.error('Error loading ticketshop content:', error);
            });
    </script>
    
    <!-- Hero Section Loading from CMS -->
    <script>
        // Load Hero Section from CMS
        fetch('content/tickets/hero-section.md')
            .then(response => response.text())
            .then(text => {
                // Split the content into frontmatter and body
                const parts = text.split('---');
                
                if (parts.length >= 2) {
                    const frontmatter = parts[1].trim();
                    
                    try {
                        // Parse YAML frontmatter into JavaScript object
                        const data = jsyaml.load(frontmatter);
                        
                        // Update hero title
                        if (data.hero_title) {
                            const heroTitle = document.querySelector('.hero-title');
                            if (heroTitle) {
                                heroTitle.textContent = data.hero_title;
                            }
                        }
                        
                        // Update hero subtitle
                        if (data.hero_subtitle) {
                            const heroSubtitle = document.querySelector('.hero-subtitle');
                            if (heroSubtitle) {
                                heroSubtitle.textContent = data.hero_subtitle;
                            }
                        }
                        
                        // Update hero description
                        if (data.hero_description) {
                            const heroDescription = document.querySelector('.hero-description');
                            if (heroDescription) {
                                heroDescription.textContent = data.hero_description;
                            }
                        }
                        
                        // Update hero button text
                        if (data.hero_button_text) {
                            const heroButton = document.querySelector('.hero-button');
                            if (heroButton) {
                                heroButton.textContent = data.hero_button_text;
                            }
                        }
                        
                    } catch (yamlError) {
                        console.error('Error parsing YAML:', yamlError);
                    }
                }
            })
            .catch(error => {
                console.error('Error loading hero section content:', error);
            });
    </script>
    

    
    <!-- YAML Parser Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    
    <!-- Main JavaScript -->
    <script src="script-new.js"></script>
    
    <!-- EventSquare Embed Script -->
    <script src="https://esq-store.s3.amazonaws.com/public/js/embed.js"></script>
    <script>
        

        // Load ticketshop data from CMS using YAML parsing
        fetch('content/tickets/ticketshop.md')
            .then(response => response.text())
            .then(text => {
                // Split the content into frontmatter and body
                const parts = text.split('---');
                
                if (parts.length >= 2) {
                    const frontmatter = parts[1].trim();
                    
                    try {
                        // Parse YAML frontmatter into JavaScript object
                        const ticketshopData = jsyaml.load(frontmatter);
                        
                        // Update banner image and alt text (using default values if not in CMS)
                        const bannerImg = document.querySelector('.ticketshop-banner');
                        if (bannerImg) {
                            bannerImg.src = ticketshopData.bannerImage || 'img/BANNEREVENTSQUARE.png';
                            bannerImg.alt = ticketshopData.bannerAlt || 'our event banner';
                        }
                        
                        // Embed the iframe with the URL from CMS
                        if (ticketshopData.ticketshop_url) {
                            ESQ.embed({
                                link: ticketshopData.ticketshop_url,
                                element: "esq-store",
                            });
                        } else {
                            // Fallback to default URL if not found in CMS
                            ESQ.embed({
                                link: 'https://vedettweekend.eventsquare.store/lnupdtfkj4fx',
                                element: "esq-store",
                            });
                        }
                        
                    } catch (yamlError) {
                        console.error('Error parsing ticketshop YAML:', yamlError);
                        
                        // Fallback to default values if YAML parsing fails
                        const bannerImg = document.querySelector('.ticketshop-banner');
                        if (bannerImg) {
                            bannerImg.src = 'img/BANNEREVENTSQUARE.png';
                            bannerImg.alt = 'our event banner';
                        }
                        
                        ESQ.embed({
                            link: 'https://vedettweekend.eventsquare.store/lnupdtfkj4fx',
                            element: "esq-store",
                        });
                    }
                }
            })
            .catch(error => {
                console.error('Error loading ticketshop content:', error);
                
                // Fallback to default values if fetch fails
                const bannerImg = document.querySelector('.ticketshop-banner');
                if (bannerImg) {
                    bannerImg.src = 'img/BANNEREVENTSQUARE.png';
                    bannerImg.alt = 'our event banner';
                }
                
                ESQ.embed({
                    link: 'https://vedettweekend.eventsquare.store/lnupdtfkj4fx',
                    element: "esq-store",
                });
            });
        

    </script>
    
    <!-- Facebook SDK -->
    <script crossorigin="anonymous" src="https://connect.facebook.net/nl_NL/sdk.js#xfbml=1&version=v17.0" nonce="hc8Wtw7g" defer></script>
    
    <!-- Lottie Animation Script -->
    <script>
        // Load and play Lottie animation
        let lottieAnimation;
        let animationHidden = false;
        
        // Initialize Lottie animation when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const lottieContainer = document.getElementById('lottie-container');
            
            if (lottieContainer) {
                lottieAnimation = lottie.loadAnimation({
                    container: lottieContainer,
                    renderer: 'svg',
                    loop: true,
                    autoplay: true,
                    path: 'img/lottie.json'
                });
            }
        });
        
        // Function to hide Lottie animation when ticketshop loads
        function hideLottieAnimation() {
            if (animationHidden) return; // Prevent multiple calls
            
            animationHidden = true;
            if (lottieAnimation) {
                lottieAnimation.pause();
                lottieAnimation.destroy();
            }
            const container = document.getElementById('lottie-container');
            if (container) {
                container.style.display = 'none';
            }
        }
        
        // Hide animation when EventSquare iframe loads
        window.addEventListener('message', function(event) {
            if (event.data && event.data.type === 'esq-store-loaded') {
                hideLottieAnimation();
            }
        });
        
        // Monitor for EventSquare iframe to be fully loaded and visible
        function checkForIframe() {
            const esqStore = document.getElementById('esq-store');
            if (esqStore) {
                const iframes = esqStore.querySelectorAll('iframe');
                if (iframes.length > 0) {
                    const iframe = iframes[0];
                    
                    // Check if iframe is actually visible and has content
                    if (iframe.offsetWidth > 0 && iframe.offsetHeight > 0) {
                        // Wait a bit more to ensure the iframe content is fully loaded
                        setTimeout(() => {
                            if (!animationHidden) {
                                hideLottieAnimation();
                            }
                        }, 2000); // Wait 2 seconds after iframe appears
                        return;
                    }
                }
            }
            
            // If no iframe yet or iframe not ready, check again in a moment
            if (!animationHidden) {
                setTimeout(checkForIframe, 1000);
            }
        }
        
        // Start checking for iframe after EventSquare script has had time to load
        setTimeout(checkForIframe, 3000);
        
        // Fallback timeout to hide animation (much longer now)
        setTimeout(hideLottieAnimation, 30000);
    </script>
</body>
</html>

