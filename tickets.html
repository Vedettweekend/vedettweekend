<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tickets | Vedettweekend</title>
    <meta name="description" content="Koop nu je tickets voor Vedettweekend 2025 op vrijdag 25 en zaterdag 26 oktober!">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/style.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/vedettfavicon.png">
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TCSXPDTW');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TCSXPDTW"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Header Component -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-branding">
                <a href="./">
                    <img class="nav-logo" src="./img/vedett25.webp">
                </a>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        <span class="nav-content">HOME</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a href="tickets.html" class="nav-link">
                        <span class="nav-content">TICKETS</span>
                    </a>
                </li>
                                <li class="nav-item">
                    <a href="./program.html" class="nav-link">
                        <span class="nav-content">LINE-UP</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="./practical.html" class="nav-link">
                        <span class="nav-content">INFO</span>
                    </a>
                </li>
            </ul>
            <button class="hamburger" id="hamburger" aria-label="Toggle navigation menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="tickets-main">
        <!-- Hero Section -->
        <section class="info-hero">
            <div class="info-hero-content">
                <h1 class="info-title">VEDETTWEEKEND 2025</h1>
                <h2 class="info-subtitle">KOOP JE TICKETS</h2>
                <p class="info-description">Beveilig je plekje voor het weekend van je leven!</p>
            </div>
        </section>

        <!-- Ticket Shop Section -->
        <div class="ticketshop">
            <div class="ticketshop-container">
                <div id="esq-store">
                    <!-- Loading animation -->
                    <div id="loading-spinner" class="spinner"></div>
                </div>
            </div>
        </div>

        <hr class="full-width-line">
    </main>

    <!-- Footer Component -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4 class="footer-title">VOLG ONS OP</h4>
                <div class="social-links">
                    <a href="https://www.facebook.com/vedettweekend" class="social-link" aria-label="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.instagram.com/vedettweekend/" class="social-link" aria-label="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/@vedettweekend" class="social-link" aria-label="TikTok">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://linktr.ee/vedettweekend" class="social-link" aria-label="Linktree">
                        <i class="fas fa-link"></i>
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h4 class="footer-title">MEER INFORMATIE</h4>
                <a href="https://vedettweekend.be" class="footer-link">Over Vedettweekend</a>
            </div>

            <div class="footer-section">
                <h4 class="footer-title">TICKETS KOPEN</h4>
                <a href="https://vedettweekend.eventsquare.store/nl/iuyug9ujkxeq/dqyto5nq8d2y" class="footer-link">Koop hier je tickets</a>
            </div>

            <div class="footer-section">
                <h4 class="footer-title">CONTACT</h4>
                <address class="contact-info">
                    Scouts De Vlasbloem<br>
                    Maatschappelijke zetel:<br>
                    Paddegatstraat 53a<br>
                    1880 Nieuwenrode- Belgi√´<br>
                    <a href="tel:+320697774844">0697.774.844</a><br>
                    <a href="mailto:info@vedettweekend.be">info@vedettweekend.be</a>
                </address>
            </div>
        </div>

        <div class="footer-sponsors">
            <div class="sponsor-logos" id="footerSponsors">
                <!-- Footer sponsor logos will be populated by JavaScript -->
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Vedettweekend. All rights reserved. - Website made by Tom Lievens</p>
        </div>
    </footer>

    <!-- Netlify CMS -->

    
    <!-- Netlify CMS Data -->
    <script>
        // This will be populated by Netlify CMS
        window.ticketshop = {
            bannerImage: 'img/BANNEREVENTSQUARE.png',
            bannerAlt: 'our event banner',
            iframeLink: 'https://vedettweekend.eventsquare.store/iuyug9ujkxeq' // Fallback URL
        };
    </script>
    
    <!-- Logo Loading from CMS -->
    <script>
        // Load Logo from CMS
        fetch('content/site-settings/logo.md')
            .then(response => response.text())
            .then(text => {
                // Parse frontmatter to get logo path
                const logoMatch = text.match(/logo_image:\s*"?([^"\n]+)"?/);
                
                if (logoMatch && logoMatch[1]) {
                    // Update all nav logos on the page
                    const navLogos = document.querySelectorAll('.nav-logo');
                    
                    navLogos.forEach(logo => {
                        logo.src = logoMatch[1];
                    });
                } else {
                    // Fallback to default logo if CMS fails
                    const navLogos = document.querySelectorAll('.nav-logo');
                    
                    navLogos.forEach(logo => {
                        logo.src = './img/vedett25.webp';
                    });
                }
            })
            .catch(error => {
                // Fallback to default logo if fetch fails
                const navLogos = document.querySelectorAll('.nav-logo');
                
                navLogos.forEach(logo => {
                    logo.src = './img/vedett25.webp';
                });
            });
    </script>
    
    <!-- Ticketshop URL Loading from CMS -->
    <script>
        // Load Ticketshop URL from CMS
        console.log('üöÄ Starting ticketshop URL CMS loading...');
        
        fetch('content/tickets/ticketshop.md')
            .then(response => {
                console.log('üì° Ticketshop fetch response:', response);
                console.log('üì° Response status:', response.status);
                console.log('üì° Response ok:', response.ok);
                return response.text();
            })
            .then(text => {
                console.log('üìÑ Raw markdown content:', text);
                console.log('üìÑ Content length:', text.length);
                
                // Split the content into frontmatter and body
                const parts = text.split('---');
                console.log('‚úÇÔ∏è Split parts:', parts);
                console.log('‚úÇÔ∏è Number of parts:', parts.length);
                
                if (parts.length >= 2) {
                    const frontmatter = parts[1].trim();
                    console.log('üìã Frontmatter section:', frontmatter);
                    
                    try {
                        // Parse YAML frontmatter into JavaScript object
                        const data = jsyaml.load(frontmatter);
                        console.log('üîç Parsed YAML data:', data);
                        console.log('üîç Available fields:', Object.keys(data));
                        
                        // Log each field value
                        console.log('üîó ticketshop_url:', data.ticketshop_url);
                        
                        // Update ticketshop iframe URL
                        if (data.ticketshop_url) {
                            console.log('üéØ Updating ticketshop iframe URL to:', data.ticketshop_url);
                            
                            // Initialize window.ticketshop if it doesn't exist
                            if (!window.ticketshop) {
                                window.ticketshop = {};
                            }
                            
                            window.ticketshop.iframeLink = data.ticketshop_url;
                            console.log('‚úÖ Ticketshop iframe URL updated successfully');
                            console.log('üéØ Final ticketshop data:', window.ticketshop);
                        } else {
                            console.log('‚ö†Ô∏è No ticketshop_url found in data');
                        }
                        
                        // Final verification - log all ticketshop elements
                        console.log('üîç Final verification of ticketshop elements:');
                        console.log('üîç Ticketshop iframe link:', window.ticketshop?.iframeLink);
                        
                    } catch (yamlError) {
                        console.error('‚ùå Error parsing YAML:', yamlError);
                        console.log('üìã Raw frontmatter that failed to parse:', frontmatter);
                    }
                } else {
                    console.log('‚ùå Invalid markdown structure - need at least 2 parts after splitting');
                }
            })
            .catch(error => {
                console.error('‚ùå Error loading ticketshop content:', error);
                console.log('Using fallback ticketshop URL');
            });
    </script>
    
    <!-- Hero Section Loading from CMS -->
    <script>
        // Load Hero Section from CMS
        console.log('üöÄ Starting hero section CMS loading...');
        
        fetch('content/tickets/hero-section.md')
            .then(response => {
                console.log('üì° Hero section fetch response:', response);
                console.log('üì° Response status:', response.status);
                console.log('üì° Response ok:', response.ok);
                return response.text();
            })
            .then(text => {
                console.log('üìÑ Raw markdown content:', text);
                console.log('üìÑ Content length:', text.length);
                
                // Split the content into frontmatter and body
                const parts = text.split('---');
                console.log('‚úÇÔ∏è Split parts:', parts);
                console.log('‚úÇÔ∏è Number of parts:', parts.length);
                
                if (parts.length >= 2) {
                    const frontmatter = parts[1].trim();
                    console.log('üìã Frontmatter section:', frontmatter);
                    
                    try {
                        // Parse YAML frontmatter into JavaScript object
                        const data = jsyaml.load(frontmatter);
                        console.log('üîç Parsed YAML data:', data);
                        console.log('üîç Available fields:', Object.keys(data));
                        
                        // Log each field value
                        console.log('üè∑Ô∏è hero_title:', data.hero_title);
                        console.log('üìù hero_subtitle:', data.hero_subtitle);
                        console.log('üìñ hero_description:', data.hero_description);
                        console.log('üîò hero_button_text:', data.hero_button_text);
                        
                        // Update hero title
                        if (data.hero_title) {
                            console.log('üéØ Updating hero title to:', data.hero_title);
                            const heroTitle = document.querySelector('.hero-title');
                            console.log('üéØ Found hero title element:', heroTitle);
                            if (heroTitle) {
                                heroTitle.textContent = data.hero_title;
                                console.log('‚úÖ Hero title updated successfully');
                            } else {
                                console.log('‚ùå Hero title element not found');
                            }
                        } else {
                            console.log('‚ö†Ô∏è No hero_title found in data');
                        }
                        
                        // Update hero subtitle
                        if (data.hero_subtitle) {
                            console.log('üéØ Updating hero subtitle to:', data.hero_subtitle);
                            const heroSubtitle = document.querySelector('.hero-subtitle');
                            console.log('üéØ Found hero subtitle element:', heroSubtitle);
                            if (heroSubtitle) {
                                heroSubtitle.textContent = data.hero_subtitle;
                                console.log('‚úÖ Hero subtitle updated successfully');
                            } else {
                                console.log('‚ùå Hero subtitle element not found');
                            }
                        } else {
                            console.log('‚ö†Ô∏è No hero_subtitle found in data');
                        }
                        
                        // Update hero description
                        if (data.hero_description) {
                            console.log('üéØ Updating hero description to:', data.hero_description);
                            const heroDescription = document.querySelector('.hero-description');
                            console.log('üéØ Found hero description element:', heroDescription);
                            if (heroDescription) {
                                heroDescription.textContent = data.hero_description;
                                console.log('‚úÖ Hero description updated successfully');
                            } else {
                                console.log('‚ùå Hero description element not found');
                            }
                        } else {
                            console.log('‚ö†Ô∏è No hero_description found in data');
                        }
                        
                        // Update hero button text
                        if (data.hero_button_text) {
                            console.log('üéØ Updating hero button text to:', data.hero_button_text);
                            const heroButton = document.querySelector('.hero-button');
                            console.log('üéØ Found hero button element:', heroButton);
                            if (heroButton) {
                                heroButton.textContent = data.hero_button_text;
                                console.log('‚úÖ Hero button text updated successfully');
                            } else {
                                console.log('‚ùå Hero button element not found');
                            }
                        } else {
                            console.log('‚ö†Ô∏è No hero_button_text found in data');
                        }
                        
                        // Final verification - log all hero section elements
                        console.log('üîç Final verification of hero section elements:');
                        console.log('üîç Hero title:', document.querySelector('.hero-title')?.textContent);
                        console.log('üîç Hero subtitle:', document.querySelector('.hero-subtitle')?.textContent);
                        console.log('üîç Hero description:', document.querySelector('.hero-description')?.textContent);
                        console.log('üîç Hero button text:', document.querySelector('.hero-button')?.textContent);
                        
                    } catch (yamlError) {
                        console.error('‚ùå Error parsing YAML:', yamlError);
                        console.log('üìã Raw frontmatter that failed to parse:', frontmatter);
                    }
                } else {
                    console.log('‚ùå Invalid markdown structure - need at least 2 parts after splitting');
                }
            })
            .catch(error => {
                console.error('‚ùå Error loading hero section content:', error);
                console.log('Using fallback hero section content');
            });
    </script>
    

    
    <!-- YAML Parser Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    
    <!-- Main JavaScript -->
    <script src="script-new.js"></script>
    
    <!-- EventSquare Embed Script -->
    <script src="https://esq-store.s3.amazonaws.com/public/js/embed.js"></script>
    <script>
        

        // Get the ticketshop data from Netlify CMS
        const ticketshopData = window.ticketshop || {
            bannerImage: 'img/BANNEREVENTSQUARE.png',
            bannerAlt: 'our event banner',
            iframeLink: 'https://vedettweekend.eventsquare.store/iuyug9ujkxeq'
        };
        
        // Update banner image and alt text
        const bannerImg = document.querySelector('.ticketshop-banner');
        if (bannerImg) {
            bannerImg.src = ticketshopData.bannerImage;
            bannerImg.alt = ticketshopData.bannerAlt;
        }
        
        // Embed the iframe with editable link
        ESQ.embed({
            link: ticketshopData.iframeLink,
            element: "esq-store",
        });
        
        // The spinner will be naturally covered by the iframe when it loads
        // No need for complex detection - the iframe has higher z-index
        

    </script>
    
    <!-- Facebook SDK -->
    <script crossorigin="anonymous" src="https://connect.facebook.net/nl_NL/sdk.js#xfbml=1&version=v17.0" nonce="hc8Wtw7g" defer></script>
</body>
</html>

